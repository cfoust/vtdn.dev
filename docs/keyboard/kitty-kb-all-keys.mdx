---
title: "All keys as escape codes"
sidebar_label: "All keys as escape codes"
description: "Kitty keyboard flag 8"
feature_id: "kitty_kb_all_keys"
data_file: "keyboard-input"
---

:::warning[AI-Generated Content]
This page was generated with the assistance of AI and may contain inaccuracies. It is intended as a starting point and should be verified against the linked specifications.
:::

<StatusBadges status={{ experimental: true }} />

**All keys as escape codes** (flag 8) extends the Kitty keyboard protocol so that every key event -- including plain, unmodified printable characters -- is reported as a CSI u escape sequence. Without this flag, unmodified printable keys (like typing `a` or `5`) are still sent as their literal UTF-8 byte, even when other enhancement flags are active.

## Syntax

```
CSI number ; modifiers u    Key event for any key (including printable)
```

<FormalSyntax grammar={`
key-event   = 0x1b, "[", key-code, [ ";", modifiers ], "u" ;
key-code    = digit, { digit } ;             (* Unicode codepoint of the key *)
modifiers   = digit, { digit } ;             (* modifier bitmask + 1 *)
digit       = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
`} />

## Description

With flags 1 (disambiguate) alone, pressing a plain letter key like `a` still sends the byte `0x61` directly. The disambiguate flag only changes encoding for keys that are otherwise ambiguous (like Enter, Tab, Escape, or modified key combinations). This is by design -- most applications do not need CSI sequences for regular text input and benefit from the efficiency of literal byte transmission.

However, some applications need to treat every key event uniformly. Games, for example, may want to handle `w` as "move forward" and need it in the same format as all other keys. Screen readers and input method editors may also benefit from a consistent event format for all keys.

When flag 8 is enabled, the terminal reports all key presses as `CSI number u` sequences, where `number` is the Unicode codepoint of the character. For example, pressing `a` sends `CSI 97 u` instead of `0x61`.

### Interaction with other flags

Flag 8 implies the behavior of flag 1 (disambiguate). When flag 8 is active, all keys -- both special and printable -- use CSI u encoding.

When combined with flag 2 (event types), every key including printable characters will report press, repeat, and release events. This combination (`flags = 11`, i.e., 1+2+8) gives applications complete, uniform key event tracking.

When combined with flag 4 (alternate keys), printable character events will also carry shifted and base layout information.

:::note
Enabling flag 8 significantly increases the volume of escape sequence data sent to the application. Each key press that previously sent a single byte now sends a multi-byte escape sequence. Applications should only enable this flag when they genuinely need uniform event handling for all keys.
:::

## Examples

```bash
# Enable all keys as escape codes (flags 1|8 = 9)
printf '\e[>9u'

# Pressing 'a' produces: ESC [ 9 7 u
# (97 is the Unicode codepoint for 'a')

# Pressing 'A' (Shift+a) produces: ESC [ 9 7 ; 2 u
# (97 = 'a', modifier 2 = Shift)

# Pressing '5' produces: ESC [ 5 3 u
# (53 is the Unicode codepoint for '5')

# Pressing Space produces: ESC [ 3 2 u
# (32 is the Unicode codepoint for space)

# Pressing Enter still produces: ESC [ 1 3 u
# (same as with flag 1 alone)

# Enable all keys + event types (flags 1|2|8 = 11)
printf '\e[>11u'

# Pressing and releasing 'a':
#   Press:   ESC [ 9 7 u
#   Release: ESC [ 9 7 ; 1 : 3 u

# Restore previous mode
printf '\e[<u'
```

## Specifications

<SpecificationsTable />

## Terminal support

<FeatureCompatTable />

## See also

- [Kitty Keyboard Protocol](/docs/keyboard/kitty-keyboard) -- Overview of the full protocol
- [Disambiguate](/docs/keyboard/kitty-kb-disambiguate) -- Flag 1: only disambiguates special keys
- [Report Event Types](/docs/keyboard/kitty-kb-event-types) -- Flag 2: combine with flag 8 for full key lifecycle
- [Report Associated Text](/docs/keyboard/kitty-kb-associated-text) -- Flag 16: include generated text
