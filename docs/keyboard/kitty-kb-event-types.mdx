---
title: "Report event types"
sidebar_label: "Report event types"
description: "Kitty keyboard flag 2"
feature_id: "kitty_kb_event_types"
data_file: "keyboard-input"
---

:::warning[AI-Generated Content]
This page was generated with the assistance of AI and may contain inaccuracies. It is intended as a starting point and should be verified against the linked specifications.
:::

<StatusBadges status={{ experimental: true }} />

**Report event types** (flag 2) extends the Kitty keyboard protocol to report key release and repeat events in addition to the default key press events. The event type is encoded as a suffix on the modifier parameter, enabling applications to track the full lifecycle of each key press.

## Syntax

```
CSI number ; modifiers : event_type u    Key event with type
```

<FormalSyntax grammar={`
key-event   = 0x1b, "[", key-code, [ ";", modifiers, ":", event-type ], "u" ;
key-code    = digit, { digit } ;             (* Unicode codepoint of the key *)
modifiers   = digit, { digit } ;             (* modifier bitmask + 1 *)
event-type  = "1" | "2" | "3" ;             (* 1=press, 2=repeat, 3=release *)
digit       = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
`} />

### Event types

| Value | Type | Description |
|-------|------|-------------|
| `1` | Press | Key was pressed down (default, may be omitted) |
| `2` | Repeat | Key is held down and auto-repeating |
| `3` | Release | Key was released |

## Description

Legacy terminal input only reports key press events. There is no mechanism to detect when a key is released or when an auto-repeat event occurs. This limits applications that need to track key state, such as games, interactive tools, or applications that want to implement key-up triggered actions.

When flag 2 is enabled, the terminal appends an event type indicator to the modifier value using a colon separator. The format is `modifiers:event_type`. For press events, the event type of `1` may be omitted since it is the default. Release events use type `3`, and auto-repeat events use type `2`.

If no modifiers are active and the event is a press, the modifier and event type fields can be omitted entirely (the sequence looks the same as with just flag 1). For a release event with no modifiers, the sequence would be `CSI number ; 1:3 u` (modifier value 1 meaning no modifiers, event type 3 for release).

### Interaction with other flags

Flag 2 is typically combined with flag 1 (disambiguate). Without flag 1, only keys that already produce CSI sequences will carry event type information. Combining flags 1 and 2 (`CSI > 3 u`) ensures that all special keys report their event type.

When combined with flag 8 (all keys as escape codes), every key including plain printable characters will report press, repeat, and release events.

## Examples

```bash
# Enable disambiguate + event types (flags 1|2 = 3)
printf '\e[>3u'

# Pressing and releasing Enter produces:
#   Press:   ESC [ 1 3 u           (event type 1 omitted)
#   Release: ESC [ 1 3 ; 1 : 3 u  (modifier=1, event=release)

# Holding 'a' with Ctrl produces:
#   Press:   ESC [ 9 7 ; 5 u         (Ctrl press, event type omitted)
#   Repeat:  ESC [ 9 7 ; 5 : 2 u     (Ctrl repeat)
#   Repeat:  ESC [ 9 7 ; 5 : 2 u     (Ctrl repeat)
#   Release: ESC [ 9 7 ; 5 : 3 u     (Ctrl release)

# Pressing and releasing Escape:
#   Press:   ESC [ 2 7 u
#   Release: ESC [ 2 7 ; 1 : 3 u

# Restore previous mode
printf '\e[<u'
```

## Specifications

<SpecificationsTable />

## Terminal support

<FeatureCompatTable />

## See also

- [Kitty Keyboard Protocol](/docs/keyboard/kitty-keyboard) -- Overview of the full protocol
- [Disambiguate](/docs/keyboard/kitty-kb-disambiguate) -- Flag 1: prerequisite for unambiguous key events
- [All Keys as Escape Codes](/docs/keyboard/kitty-kb-all-keys) -- Flag 8: report event types for all keys
